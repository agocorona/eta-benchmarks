
==================== STG syntax: ====================
2018-02-08 11:48:32.120238 UTC

Control.Concurrent.Fiber.MVar.$wa1 [InlPrag=[0]]
  :: forall a_aE5A.
     GHC.Prim.MVar# GHC.Prim.RealWorld a_aE5A
     -> GHC.Prim.State# GHC.Prim.RealWorld
     -> (# GHC.Prim.State# GHC.Prim.RealWorld, a_aE5A #)
[GblId, Arity=2, Str=<S,U><S,U>, Unf=OtherCon []] =
    \r srt:SRT:[rCFA :-> Control.Concurrent.Fiber.Internal.block1,
                rCFC :-> Control.Concurrent.Fiber.Internal.block3] [ww_sEJG w_sEJH]
        let {
          a1_sEJI [Occ=LoopBreaker]
            :: GHC.Prim.State# GHC.Prim.RealWorld
               -> (# GHC.Prim.State# GHC.Prim.RealWorld, a_aE5A #)
          [LclId, Arity=1, Str=<S,U>, Unf=OtherCon []] =
              \r srt:SRT:[rCFA :-> Control.Concurrent.Fiber.Internal.block1,
                          rCFC :-> Control.Concurrent.Fiber.Internal.block3] [s_sEJJ]
                  case tryTakeMVar# [ww_sEJG s_sEJJ] of _ [Occ=Dead] {
                    (#,,#) ipv_sEJL [Occ=Once*]
                           ipv1_sEJM [Occ=Once!]
                           ipv2_sEJN [Occ=Once] ->
                        case ipv1_sEJM of _ [Occ=Dead] {
                          __DEFAULT ->
                              case
                                  __primcall  eta.fibers.PrimOps.awakenMVarListeners [ww_sEJG
                                                                                      ipv_sEJL]
                              of
                              s''_sEJQ [OS=OneShot]
                              { __DEFAULT -> (#,#) [s''_sEJQ ipv2_sEJN];
                              };
                          0 ->
                              case
                                  __primcall  eta.fibers.PrimOps.addMVarListener [ww_sEJG ipv_sEJL]
                              of
                              s''_sEJS [OS=OneShot]
                              { __DEFAULT ->
                                    case
                                        __primcall  eta.fibers.PrimOps.setCurrentC [Control.Concurrent.Fiber.Internal.block1
                                                                                    s''_sEJS]
                                    of
                                    s1_sEJU [OS=OneShot]
                                    { __DEFAULT ->
                                          let {
                                            sat_sEJY [Occ=Once] :: GHC.Prim.Any
                                            [LclId, Str=] =
                                                \r srt:SRT:[] [ds2_sEJW eta_sEJX] a1_sEJI eta_sEJX;
                                          } in 
                                            case
                                                __primcall  eta.fibers.PrimOps.pushNextC [sat_sEJY
                                                                                          s1_sEJU]
                                            of
                                            s2_sEJZ [OS=OneShot]
                                            { __DEFAULT ->
                                                  case
                                                      __primcall  eta.fibers.PrimOps.popContStack [s2_sEJZ]
                                                  of
                                                  _ [Occ=Dead]
                                                  { (#,,#) ipv3_sEK2 [Occ=Once*]
                                                           ipv4_sEK3 [Occ=Once!]
                                                           ipv5_sEK4 [Occ=Once] ->
                                                        case ipv4_sEK3 of _ [Occ=Dead] {
                                                          __DEFAULT ->
                                                              case
                                                                  __primcall  eta.fibers.PrimOps.popNextC [ipv3_sEK2]
                                                              of
                                                              _ [Occ=Dead]
                                                              { (#,#) ipv6_sEK8 [Occ=Once]
                                                                      _ [Occ=Dead] ->
                                                                    case
                                                                        __primcall  eta.fibers.PrimOps.setCurrentC [a1_sEJI
                                                                                                                    ipv6_sEK8]
                                                                    of
                                                                    s5_sEKB [OS=OneShot]
                                                                    { __DEFAULT -> a1_sEJI s5_sEKB;
                                                                    };
                                                              };
                                                          1 ->
                                                              let {
                                                                sat_sEKD [Occ=Once] :: GHC.Prim.Any
                                                                [LclId, Str=] =
                                                                    \u srt:SRT:[rCFC :-> Control.Concurrent.Fiber.Internal.block3] []
                                                                        ipv5_sEK4
                                                                            Control.Concurrent.Fiber.Internal.block3;
                                                              } in 
                                                                case
                                                                    __primcall  eta.fibers.PrimOps.setCurrentC [sat_sEKD
                                                                                                                ipv3_sEK2]
                                                                of
                                                                s4_sEKE [OS=OneShot]
                                                                { __DEFAULT ->
                                                                      case
                                                                          __primcall  eta.fibers.PrimOps.yieldFiber [1
                                                                                                                     s4_sEKE]
                                                                      of
                                                                      wild_sEKG [OS=OneShot]
                                                                      { __DEFAULT ->
                                                                            case
                                                                                __primcall  eta.fibers.PrimOps.popNextC [wild_sEKG]
                                                                            of
                                                                            _ [Occ=Dead]
                                                                            { (#,#) ipv6_sEKJ [Occ=Once]
                                                                                    _ [Occ=Dead] ->
                                                                                  case
                                                                                      __primcall  eta.fibers.PrimOps.setCurrentC [a1_sEJI
                                                                                                                                  ipv6_sEKJ]
                                                                                  of
                                                                                  s5_sEKM [OS=OneShot]
                                                                                  { __DEFAULT ->
                                                                                        a1_sEJI
                                                                                            s5_sEKM;
                                                                                  };
                                                                            };
                                                                      };
                                                                };
                                                        };
                                                  };
                                            };
                                    };
                              };
                        };
                  };
        } in  a1_sEJI w_sEJH;
Control.Concurrent.Fiber.MVar.takeMVar1 [InlPrag=INLINE[0]]
  :: forall a_aE5A.
     GHC.MVar.MVar a_aE5A
     -> GHC.Prim.State# GHC.Prim.RealWorld
     -> (# GHC.Prim.State# GHC.Prim.RealWorld, a_aE5A #)
[GblId, Arity=2, Str=<S(S),1*U(U)><S,U>, Unf=OtherCon []] =
    \r srt:SRT:[rEJD :-> Control.Concurrent.Fiber.MVar.$wa1] [w_sEKN
                                                              w1_sEKO]
        case w_sEKN of _ [Occ=Dead] {
          GHC.MVar.MVar ww1_sEKQ [Occ=Once] ->
              Control.Concurrent.Fiber.MVar.$wa1 ww1_sEKQ w1_sEKO;
        };
Control.Concurrent.Fiber.MVar.takeMVar
  :: forall a_aE3F.
     GHC.MVar.MVar a_aE3F
     -> Control.Concurrent.Fiber.Internal.Fiber a_aE3F
[GblId, Arity=2, Str=<S(S),1*U(U)><S,U>, Unf=OtherCon []] =
    \r srt:SRT:[rEJC :-> Control.Concurrent.Fiber.MVar.takeMVar1] [eta_B2
                                                                   eta_B1]
        Control.Concurrent.Fiber.MVar.takeMVar1 eta_B2 eta_B1;
Control.Concurrent.Fiber.MVar.$wa [InlPrag=[0]]
  :: forall a_aE51.
     GHC.Prim.MVar# GHC.Prim.RealWorld a_aE51
     -> a_aE51
     -> GHC.Prim.State# GHC.Prim.RealWorld
     -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
[GblId, Arity=3, Str=<S,U><L,U><S,U>, Unf=OtherCon []] =
    \r srt:SRT:[rCFA :-> Control.Concurrent.Fiber.Internal.block1,
                rCFC :-> Control.Concurrent.Fiber.Internal.block3] [ww_sEKR
                                                                    w_sEKS
                                                                    w1_sEKT]
        let {
          a1_sEKU [Occ=LoopBreaker]
            :: GHC.Prim.State# GHC.Prim.RealWorld
               -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
          [LclId, Arity=1, Str=<S,U>, Unf=OtherCon []] =
              \r srt:SRT:[rCFA :-> Control.Concurrent.Fiber.Internal.block1,
                          rCFC :-> Control.Concurrent.Fiber.Internal.block3] [s_sEKV]
                  case tryPutMVar# [ww_sEKR w_sEKS s_sEKV] of _ [Occ=Dead] {
                    (#,#) ipv_sEKX [Occ=Once*] ipv1_sEKY [Occ=Once!] ->
                        case ipv1_sEKY of _ [Occ=Dead] {
                          __DEFAULT ->
                              case
                                  __primcall  eta.fibers.PrimOps.awakenMVarListeners [ww_sEKR
                                                                                      ipv_sEKX]
                              of
                              s''_sEL1 [OS=OneShot]
                              { __DEFAULT -> (#,#) [s''_sEL1 GHC.Tuple.()];
                              };
                          0 ->
                              case
                                  __primcall  eta.fibers.PrimOps.addMVarListener [ww_sEKR ipv_sEKX]
                              of
                              s''_sEL3 [OS=OneShot]
                              { __DEFAULT ->
                                    case
                                        __primcall  eta.fibers.PrimOps.setCurrentC [Control.Concurrent.Fiber.Internal.block1
                                                                                    s''_sEL3]
                                    of
                                    s1_sEL5 [OS=OneShot]
                                    { __DEFAULT ->
                                          let {
                                            sat_sEL9 [Occ=Once] :: GHC.Prim.Any
                                            [LclId, Str=] =
                                                \r srt:SRT:[] [ds2_sEL7 eta_sEL8] a1_sEKU eta_sEL8;
                                          } in 
                                            case
                                                __primcall  eta.fibers.PrimOps.pushNextC [sat_sEL9
                                                                                          s1_sEL5]
                                            of
                                            s2_sELA [OS=OneShot]
                                            { __DEFAULT ->
                                                  case
                                                      __primcall  eta.fibers.PrimOps.popContStack [s2_sELA]
                                                  of
                                                  _ [Occ=Dead]
                                                  { (#,,#) ipv2_sELD [Occ=Once*]
                                                           ipv3_sELE [Occ=Once!]
                                                           ipv4_sELF [Occ=Once] ->
                                                        case ipv3_sELE of _ [Occ=Dead] {
                                                          __DEFAULT ->
                                                              case
                                                                  __primcall  eta.fibers.PrimOps.popNextC [ipv2_sELD]
                                                              of
                                                              _ [Occ=Dead]
                                                              { (#,#) ipv5_sELJ [Occ=Once]
                                                                      _ [Occ=Dead] ->
                                                                    case
                                                                        __primcall  eta.fibers.PrimOps.setCurrentC [a1_sEKU
                                                                                                                    ipv5_sELJ]
                                                                    of
                                                                    s5_sELM [OS=OneShot]
                                                                    { __DEFAULT -> a1_sEKU s5_sELM;
                                                                    };
                                                              };
                                                          1 ->
                                                              let {
                                                                sat_sELO [Occ=Once] :: GHC.Prim.Any
                                                                [LclId, Str=] =
                                                                    \u srt:SRT:[rCFC :-> Control.Concurrent.Fiber.Internal.block3] []
                                                                        ipv4_sELF
                                                                            Control.Concurrent.Fiber.Internal.block3;
                                                              } in 
                                                                case
                                                                    __primcall  eta.fibers.PrimOps.setCurrentC [sat_sELO
                                                                                                                ipv2_sELD]
                                                                of
                                                                s4_sELP [OS=OneShot]
                                                                { __DEFAULT ->
                                                                      case
                                                                          __primcall  eta.fibers.PrimOps.yieldFiber [1
                                                                                                                     s4_sELP]
                                                                      of
                                                                      wild_sELR [OS=OneShot]
                                                                      { __DEFAULT ->
                                                                            case
                                                                                __primcall  eta.fibers.PrimOps.popNextC [wild_sELR]
                                                                            of
                                                                            _ [Occ=Dead]
                                                                            { (#,#) ipv5_sELU [Occ=Once]
                                                                                    _ [Occ=Dead] ->
                                                                                  case
                                                                                      __primcall  eta.fibers.PrimOps.setCurrentC [a1_sEKU
                                                                                                                                  ipv5_sELU]
                                                                                  of
                                                                                  s5_sELX [OS=OneShot]
                                                                                  { __DEFAULT ->
                                                                                        a1_sEKU
                                                                                            s5_sELX;
                                                                                  };
                                                                            };
                                                                      };
                                                                };
                                                        };
                                                  };
                                            };
                                    };
                              };
                        };
                  };
        } in  a1_sEKU w1_sEKT;
Control.Concurrent.Fiber.MVar.putMVar1 [InlPrag=INLINE[0]]
  :: forall a_aE51.
     GHC.MVar.MVar a_aE51
     -> a_aE51
     -> GHC.Prim.State# GHC.Prim.RealWorld
     -> (# GHC.Prim.State# GHC.Prim.RealWorld, () #)
[GblId, Arity=3, Str=<S(S),1*U(U)><L,U><S,U>, Unf=OtherCon []] =
    \r srt:SRT:[rEJB :-> Control.Concurrent.Fiber.MVar.$wa] [w_sELY
                                                             w1_sELZ
                                                             w2_sEM0]
        case w_sELY of _ [Occ=Dead] {
          GHC.MVar.MVar ww1_sEM2 [Occ=Once] ->
              Control.Concurrent.Fiber.MVar.$wa ww1_sEM2 w1_sELZ w2_sEM0;
        };
Control.Concurrent.Fiber.MVar.putMVar
  :: forall a_aE3E.
     GHC.MVar.MVar a_aE3E
     -> a_aE3E -> Control.Concurrent.Fiber.Internal.Fiber ()
[GblId, Arity=3, Str=<S(S),1*U(U)><L,U><S,U>, Unf=OtherCon []] =
    \r srt:SRT:[rE4T :-> Control.Concurrent.Fiber.MVar.putMVar1] [eta_B3
                                                                  eta_B2
                                                                  eta_B1]
        Control.Concurrent.Fiber.MVar.putMVar1 eta_B3 eta_B2 eta_B1;

